# langchain-demo-env-macos.yml
# Environment for LangChain Business Review Analysis Demo - macOS Optimized
# Optimized for macOS (Intel and Apple Silicon)
#
# Usage:
#   conda env create -f langchain-demo-env-macos.yml
#   conda activate langchain-demo-macos

name: langchain-demo-macos
channels:
  - conda-forge
  - defaults

dependencies:
  # Core Python
  - python=3.10

  # Essential data processing
  - pandas=2.3.*
  - numpy=1.26.4
  - scipy=1.15.*
  - scikit-learn=1.7.*
  
  # Visualization (optional but useful)
  - matplotlib=3.10.*
  
  # File processing
  - pyarrow=21.*
  - fastparquet
  - pyyaml=6.0.*
  
  # Vector search - CPU version for macOS compatibility
  - faiss-cpu=1.9.*
  
  # Web requests
  - requests=2.32.*
  
  # Progress bars
  - tqdm=4.67.*
  
  # macOS-specific optimizations
  - libomp  # OpenMP for better performance on macOS
  
  # Development tools
  - pip

  # Install via pip (latest compatible versions)
  - pip:
      # Core LangChain packages
      - langchain>=0.3.27
      - langchain-community>=0.3.27
      - langchain-core>=0.3.74
      - langsmith>=0.4.16
      
      # Vector database - ChromaDB
      - chromadb>=0.4.0
      - langchain-chroma>=0.1.0
      
      # HuggingFace ecosystem
      - transformers>=4.55.0
      - sentence-transformers>=5.1.0
      - huggingface-hub>=0.34.0
      - tokenizers>=0.21.0
      - safetensors>=0.6.0
      
      # ML/NLP tools optimized for macOS
      - accelerate>=0.26.0
      - protobuf>=6.32.0
      
      # macOS performance optimizations
      - psutil>=7.0.0
      
      # Environment management
      - python-dotenv>=1.1.0
      - ijson>=3.4.0
      
      # macOS-specific packages for better Metal Performance Shaders support (Apple Silicon)
      - torch>=2.0.0  # PyTorch with MPS support for Apple Silicon
      - rapidfuzz
      - streamlit
